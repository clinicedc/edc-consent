language: python
python:
- '3.7'
addons:
  apt_packages:
  - libcups2-dev
services:
- mysql
install:
- pip install --upgrade pip
- pip install flake8
- pip install coveralls
- pip install mysqlclient
- pip install -e .
- pip install -q -r requirements.txt
before_script:
- flake8 edc_consent
- mysql -e 'create database edc character set utf8;'
script:
- coverage run --source=edc_consent manage.py test
after_success:
- coveralls
notifications:
  slack:
    secure: ia/T6TSzeFjzO9UP2tPAK54XwMdnRXxmD6GkRyrYZB8UOBHGUq8u09vXNJRrGBPujqj0MvX1/mU1XUWUzh3COLA1ZKVpiAysdzyGluhHarMlPT0vZLoqWYczy6Ow+KI89bwZ6UQj6gDKlRXjFcT4wHRNPsB2VsLsR8dpWXuGg8Vx+z9Ew11uj2iKgAJ1XouB8MpjsUJGpMEqL42QXo7D/W++EaNTRWltYyElQ6gSiaup0g3/jfyRwPsjBNvJDTXQvJMUmUaev61d3icHkjsVfaOylpUQodPW4xf02xZvMH4urAesScLadANcQQW6XIpCcH+TVGKQ2Ezfs+2a0/2etXvCWw+kSAlgEhXW5g9wPQ3UmRyemxWg0G0xi09Occsg8A/+P3prPCuXoBKqtAJaLP9K5f0JT6Yj5SdRSJiBIEt4CWQd/J8RkEfFJWUpnHHeaS/rEQtqmLaTelubXmZqNBItaKa6SOGBWGjyG+Fzcnku/xzMIxfG2IGEO6aNXfrmv3CCD6LIgywg3udPEr92Xx6K+BzOif6S3yMqqv18vVi2Cll/3ZVTx798DEwP9RxayHZSgzNVWSZ/6JvR4I5RiRE8utsQcKfWOMZoiB3nqjp+3vZUznxze1SO9Zb+8FiKcCiOa5LMQTkBDy8RYnFp3f0sfT+k9ztK+aLm0RCMhf0=
